{"version":3,"sources":["app.js"],"names":["console","log","currentUser","turbo","Turbo","site_id","err","data","JSON","stringify","user","$","html","name","click","event","preventDefault","uploadFile","alert","message","file","result","tracks","push","update","on","visitor","val","email","password","length","createUser","window","location","href"],"mappings":"CAEA,WAEEA,QAAQC,IAAI,sBACZ,IAAIC,EAAc,KAEdC,EAAQC,OAAOC,QAAS,6BAC5BF,EAAMD,YAAY,SAASI,EAAKC,GAC3BD,EACFN,QAAQC,IAAI,qBAIbD,QAAQC,IAAI,iBAAmBO,KAAKC,UAAUF,IAC9CL,EAAcK,EAAKG,KACnBC,EAAE,oBAAoBC,KAAKL,EAAKG,KAAKG,SAIvCF,EAAE,eAAeG,MAAM,SAASC,GAC/BA,EAAMC,iBACNhB,QAAQC,IAAI,gBAEZE,EAAMc,WAAW,SAASX,EAAKC,GAC7B,GAAID,EACHY,MAAM,UAAYZ,EAAIa,aADvB,CAKAnB,QAAQC,IAAI,oBAAsBO,KAAKC,UAAUF,IAGjD,IAAIa,EAAOb,EAAKc,OAEhB,GAAmB,MAAfnB,EAAJ,CAIC,IAAIoB,EAASpB,EAAYoB,WACzBA,EAAOC,KAAKH,GAEZjB,EAAMqB,OAAO,OAAQtB,GAAcoB,OAAQA,GAAS,SAAShB,EAAKC,GAC9DD,EACDY,MAAM,UAAYZ,EAAIa,SAIxBnB,QAAQC,IAAI,iBAAmBO,KAAKC,UAAUF,YASnDI,EAAE,gBAAgBc,GAAG,QAAS,SAASV,GACtCA,EAAMC,iBAEL,IAAIU,GACHb,KAAMF,EAAE,eAAegB,MACvBC,MAAOjB,EAAE,gBAAgBgB,MACxBE,SAAUlB,EAAE,mBAAmBgB,OAGN,GAAvBD,EAAQb,KAAKiB,OAKW,GAAxBJ,EAAQE,MAAME,OAKa,GAA3BJ,EAAQG,SAASC,OAKtB3B,EAAM4B,WAAWL,EAAS,SAASpB,EAAKC,GAClCD,EACHY,MAAM,UAAYZ,EAAIa,UAItBnB,QAAQC,IAAI,aAAaO,KAAKC,UAAUF,IACxCyB,OAAOC,SAASC,KAAO,YAXxBhB,MAAM,8BALNA,MAAM,2BALNA,MAAM,4BAjEX","file":"app.min.js","sourcesContent":["// your custom app logic goes here:\n\n(function(){\n\n  console.log('Hello Audio Stream')\n  var currentUser = null\n\n  var turbo = Turbo({site_id: '59bc88062b047800127690e1'})\n  turbo.currentUser(function(err, data){\n  \tif (err){\n  \t  console.log('No One Logged In')\n  \t  return\n  \t}\n\n    console.log('Current User: ' + JSON.stringify(data))\n    currentUser = data.user\n    $('#header-username').html(data.user.name)\n\n  })\n\n  $('#btn-upload').click(function(event){\n  \tevent.preventDefault()\n  \tconsole.log('Upload Track')\n\n  \tturbo.uploadFile(function(err, data){\n  \t  if (err){\n  \t  \talert('Error: ' + err.message)\n  \t  \treturn\n  \t  }\n\n  \t  console.log('Upload Complete: ' + JSON.stringify(data))\n      //Upload Complete: {\"confirmation\":\"success\",\"result\":{\"site\":\"59bc88062b047800127690e1\",\"name\":\"themepunch-script-1.mp3\",\"type\":\"audio/mp3\",\"url\":\"https://storage.turbo360.co/audio-stream--6xiqee/themepunch-script-1.mp3\",\"size\":184864,\"timestamp\":\"2017-09-16T17:13:34.647Z\",\"schema\":\"blob\",\"id\":\"59bd5bbe2b047800127690f8\"}}\n\n  \t  var file = data.result\n\n  \t  if (currentUser == null)\n  \t  \treturn\n      \n      //UPDATE CURRENT USER\n      var tracks = currentUser.tracks || []\n      tracks.push(file)\n\n      turbo.update('user', currentUser, {tracks: tracks}, function(err, data){\n      \tif(err){\n      \t  alert('Error: ' + err.message)\n      \t  return\n      \t}\n\n      \tconsole.log('USER UPDATED: ' + JSON.stringify(data))\n\n\n      })\n\n  \t  \n  \t})\n  })\n\n  $('#button-join').on('click', function(event){ //SHORTCUT $('#button-join').click(function(event){\n  \tevent.preventDefault()\n\n    var visitor = {\n  \t  name: $('#input-name').val(),\n  \t  email: $('#input-email').val(),\n      password: $('#input-password').val()\n  \t}\n\n    if (visitor.name.length == 0){\n    \talert('Please enter your name')\n    \treturn\n    }\n\n    if (visitor.email.length == 0){\n    \talert('Please enter your email')\n    \treturn\n    }\n\n    if (visitor.password.length == 0){\n    \talert('Please enter your password')\n    \treturn\n    }\n  \t\n  \tturbo.createUser(visitor, function(err, data){\n  \t  if (err){\n  \t  \talert('Error: ' + err.message)\n  \t  \treturn\n  \t  }\n\n      console.log('Register: '+JSON.stringify(data))\n      window.location.href = '/admin'\n  \t})\n\n  })\n\n})()"]}