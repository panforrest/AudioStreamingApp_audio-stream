{"version":3,"sources":["app.js"],"names":["console","log","currentUser","uploadFile","turbo","err","data","alert","message","JSON","stringify","file","result","tracks","push","update","tracksList","forEach","track","i","url","name","timestamp","$","html","Turbo","site_id","user","click","event","preventDefault","on","visitor","val","email","password","length","createUser","window","location","href"],"mappings":"CAEA,WAEEA,QAAQC,IAAI,sBACZ,IAAIC,EAAc,KAEdC,EAAa,WAEhBC,EAAMD,WAAW,SAASE,EAAKC,GAC7B,GAAID,EACHE,MAAM,UAAYF,EAAIG,aADvB,CAKAR,QAAQC,IAAI,oBAAsBQ,KAAKC,UAAUJ,IAGjD,IAAIK,EAAOL,EAAKM,OAGXC,EAASX,EAAYW,WACzBA,EAAOC,KAAKH,GAEZP,EAAMW,OAAO,OAAQb,GAAcW,OAAQA,GAAS,SAASR,EAAKC,GACjE,GAAGD,EACDE,MAAM,UAAYF,EAAIG,aADxB,CAKAR,QAAQC,IAAI,iBAAmBQ,KAAKC,UAAUJ,IAGhD,IAAIU,EAAa,IAFfd,EAAcI,EAAKM,QAGTC,OAAOI,QAAQ,SAASC,EAAOC,GACzCH,GAAc,wDAA0DE,EAAME,IAAM,iEACpFJ,GAAc,oCAAsCE,EAAME,IAAM,KAAOF,EAAMG,KAAO,yBAA2BH,EAAMI,UAAY,YACjIN,GAAc,+CAGbO,EAAE,iBAAiBC,KAAKR,UAW1BZ,EAAQqB,OAAOC,QAAS,6BAC5BtB,EAAMF,YAAY,SAASG,EAAKC,GAC/B,GAAID,EACFL,QAAQC,IAAI,wBADd,CAKCD,QAAQC,IAAI,iBAAmBQ,KAAKC,UAAUJ,IAC9CJ,EAAcI,EAAKqB,KACnBJ,EAAE,oBAAoBC,KAAKlB,EAAKqB,KAAKN,MAErC,IAAIL,EAAa,GACjBd,EAAYW,OAAOI,QAAQ,SAASC,EAAOC,GACzCH,GAAc,wDAA0DE,EAAME,IAAM,iEACpFJ,GAAc,oCAAsCE,EAAME,IAAM,KAAOF,EAAMG,KAAO,yBAA2BH,EAAMI,UAAY,YACjIN,GAAc,+CAIhBhB,QAAQC,IAAI,gBAAkBe,GAE9BO,EAAE,iBAAiBC,KAAKR,MAI1BO,EAAE,eAAeK,MAAM,SAASC,GAC/BA,EAAMC,iBAEW,MAAf5B,IAGFF,QAAQC,IAAI,gBACZE,OA4CDoB,EAAE,gBAAgBQ,GAAG,QAAS,SAASF,GACtCA,EAAMC,iBAEL,IAAIE,GACHX,KAAME,EAAE,eAAeU,MACvBC,MAAOX,EAAE,gBAAgBU,MACxBE,SAAUZ,EAAE,mBAAmBU,OAGN,GAAvBD,EAAQX,KAAKe,OAKW,GAAxBJ,EAAQE,MAAME,OAKa,GAA3BJ,EAAQG,SAASC,OAKtBhC,EAAMiC,WAAWL,EAAS,SAAS3B,EAAKC,GAClCD,EACHE,MAAM,UAAYF,EAAIG,UAItBR,QAAQC,IAAI,aAAaQ,KAAKC,UAAUJ,IACxCgC,OAAOC,SAASC,KAAO,YAXxBjC,MAAM,8BALNA,MAAM,2BALNA,MAAM,4BAyBTgB,EAAE,iBAAiBK,MAAM,SAASC,GACjCA,EAAMC,iBAGW,MAAf5B,IAGFF,QAAQC,IAAI,gBACZE,OAxKH","file":"app.min.js","sourcesContent":["// your custom app logic goes here:\n\n(function(){\n\n  console.log('Hello Audio Stream')\n  var currentUser = null\n\n  var uploadFile = function(){\n\n  \tturbo.uploadFile(function(err, data){\n  \t  if (err){\n  \t  \talert('Error: ' + err.message)\n  \t  \treturn\n  \t  }\n\n  \t  console.log('Upload Complete: ' + JSON.stringify(data))\n      //Upload Complete: {\"confirmation\":\"success\",\"result\":{\"site\":\"59bc88062b047800127690e1\",\"name\":\"themepunch-script-1.mp3\",\"type\":\"audio/mp3\",\"url\":\"https://storage.turbo360.co/audio-stream--6xiqee/themepunch-script-1.mp3\",\"size\":184864,\"timestamp\":\"2017-09-16T17:13:34.647Z\",\"schema\":\"blob\",\"id\":\"59bd5bbe2b047800127690f8\"}}\n\n  \t  var file = data.result\n      \n      //UPDATE CURRENT USER\n      var tracks = currentUser.tracks || []\n      tracks.push(file)\n\n      turbo.update('user', currentUser, {tracks: tracks}, function(err, data){\n      \tif(err){\n      \t  alert('Error: ' + err.message)\n      \t  return\n      \t}\n\n      \tconsole.log('USER UPDATED: ' + JSON.stringify(data))\n      \tcurrentUser = data.result\n\n\t    var tracksList = ''\n\t    currentUser.tracks.forEach(function(track, i){\n\t      tracksList += '<tr><td style=\"width:130px\"><a target=\"_blank\" href=\"' + track.url + '\" ><img src=\"/dist/images/icon_play.png\" alt=\"...\" /></a></td>'\n\t      tracksList += '<td><h5><a target=\"_blank\" href=\"' + track.url + '\">' + track.name + '</a></h5><p>Uploaded: ' + track.timestamp + '</p></td>'\n\t      tracksList += '<td><h4 class=\"price\">Share</h4></td></tr>'\n\n\t    })       \t\n        $('#tracks-table').html(tracksList)\n\n      })\n\n  \t  \n  \t})\n  // })\n\n\n  }\n\n  var turbo = Turbo({site_id: '59bc88062b047800127690e1'})\n  turbo.currentUser(function(err, data){\n  \tif (err){\n  \t  console.log('No One Logged In')\n  \t  return\n  \t}\n\n    console.log('Current User: ' + JSON.stringify(data))\n    currentUser = data.user\n    $('#header-username').html(data.user.name)\n\n    var tracksList = ''\n    currentUser.tracks.forEach(function(track, i){\n      tracksList += '<tr><td style=\"width:130px\"><a target=\"_blank\" href=\"' + track.url + '\" ><img src=\"/dist/images/icon_play.png\" alt=\"...\" /></a></td>'\n      tracksList += '<td><h5><a target=\"_blank\" href=\"' + track.url + '\">' + track.name + '</a></h5><p>Uploaded: ' + track.timestamp + '</p></td>'\n      tracksList += '<td><h4 class=\"price\">Share</h4></td></tr>'\n\n    })\n\n    console.log('Tracks List: ' + tracksList)\n\n    $('#tracks-table').html(tracksList)\n\n  })\n\n  $('#btn-upload').click(function(event){\n  \tevent.preventDefault()\n\n\tif (currentUser == null)\n\t  return\n\n  \tconsole.log('Upload Track')\n  \tuploadFile()\n\n  // \tturbo.uploadFile(function(err, data){\n  // \t  if (err){\n  // \t  \talert('Error: ' + err.message)\n  // \t  \treturn\n  // \t  }\n\n  // \t  console.log('Upload Complete: ' + JSON.stringify(data))\n  //     //Upload Complete: {\"confirmation\":\"success\",\"result\":{\"site\":\"59bc88062b047800127690e1\",\"name\":\"themepunch-script-1.mp3\",\"type\":\"audio/mp3\",\"url\":\"https://storage.turbo360.co/audio-stream--6xiqee/themepunch-script-1.mp3\",\"size\":184864,\"timestamp\":\"2017-09-16T17:13:34.647Z\",\"schema\":\"blob\",\"id\":\"59bd5bbe2b047800127690f8\"}}\n\n  // \t  var file = data.result\n\n  // \t  if (currentUser == null)\n  // \t  \treturn\n      \n  //     //UPDATE CURRENT USER\n  //     var tracks = currentUser.tracks || []\n  //     tracks.push(file)\n\n  //     turbo.update('user', currentUser, {tracks: tracks}, function(err, data){\n  //     \tif(err){\n  //     \t  alert('Error: ' + err.message)\n  //     \t  return\n  //     \t}\n\n  //     \tconsole.log('USER UPDATED: ' + JSON.stringify(data))\n  //     \tcurrentUser = data.result\n\n\t //    var tracksList = ''\n\t //    currentUser.tracks.forEach(function(track, i){\n\t //      tracksList += '<tr><td style=\"width:130px\"><a target=\"_blank\" href=\"' + track.url + '\" ><img src=\"/dist/images/icon_play.png\" alt=\"...\" /></a></td>'\n\t //      tracksList += '<td><h5><a target=\"_blank\" href=\"' + track.url + '\">' + track.name + '</a></h5><p>Uploaded: ' + track.timestamp + '</p></td>'\n\t //      tracksList += '<td><h4 class=\"price\">Share</h4></td></tr>'\n\n\t //    })       \t\n  //       $('#tracks-table').html(tracksList)\n\n  //     })\n\n  \t  \n  // \t})\n  })\n\n  $('#button-join').on('click', function(event){ //SHORTCUT $('#button-join').click(function(event){\n  \tevent.preventDefault()\n\n    var visitor = {\n  \t  name: $('#input-name').val(),\n  \t  email: $('#input-email').val(),\n      password: $('#input-password').val()\n  \t}\n\n    if (visitor.name.length == 0){\n    \talert('Please enter your name')\n    \treturn\n    }\n\n    if (visitor.email.length == 0){\n    \talert('Please enter your email')\n    \treturn\n    }\n\n    if (visitor.password.length == 0){\n    \talert('Please enter your password')\n    \treturn\n    }\n  \t\n  \tturbo.createUser(visitor, function(err, data){\n  \t  if (err){\n  \t  \talert('Error: ' + err.message)\n  \t  \treturn\n  \t  }\n\n      console.log('Register: '+JSON.stringify(data))\n      window.location.href = '/admin'\n  \t})\n  })\n\n  $('#profile-icon').click(function(event){\n  \tevent.preventDefault()\n  \t// console.log('Upload Icon')\n\n\tif (currentUser == null)\n\t  return\n\n  \tconsole.log('Upload Track')\n  \tuploadFile()\n  \t\n  })\n\n})()"]}