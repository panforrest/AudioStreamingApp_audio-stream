!function(){console.log("Hello Audio Stream");var e=null,r=null,t=function(){n.uploadFile(function(t,a){if(t)alert("Error: "+t.message);else if(console.log("Upload Complete: "+JSON.stringify(a)),"icon"!=r){if("track"==r){var o=a.result,s=e.tracks||[];return s.push(o),void n.update("user",e,{tracks:s},function(r,t){r?alert("Error: "+r.message):(console.log("USER UPDATED: "+JSON.stringify(t)),e=t.result,l())})}}else{var i=a.result.url;n.update("user",e,{image:i},function(r,t){r?alert("Error: "+r.message):(console.log("USER UPDATED: "+JSON.stringify(t)),e=t.result,$("#profile-icon").attr("src",e.image))})}})},l=function(){if(null!=e){var r="";e.tracks.forEach(function(e,t){r+='<tr><td style="width:130px"><a target="_blank" href="'+e.url+'" ><img src="/dist/images/icon_play.png" alt="..." /></a></td>',r+='<td><h5><a target="_blank" href="'+e.url+'">'+e.name+"</a></h5><p>Uploaded: "+e.timestamp+"</p></td>",r+='<td><h4 class="price">Share</h4></td></tr>'}),console.log("Tracks List: "+r),$("#tracks-table").html(r)}},n=Turbo({site_id:"59bc88062b047800127690e1"});n.currentUser(function(r,t){r?console.log("No One Logged In"):(console.log("Current User: "+JSON.stringify(t)),e=t.user,l(),$("#header-username").html(t.user.name),$("#profile-icon").attr("src",e.image))}),$("#btn-upload").click(function(l){l.preventDefault(),null!=e&&(console.log("Upload Track"),r="track",t())}),$("#button-join").on("click",function(e){e.preventDefault();var r={name:$("#input-name").val(),email:$("#input-email").val(),password:$("#input-password").val()};0!=r.name.length?0!=r.email.length?0!=r.password.length?n.createUser(r,function(e,r){e?alert("Error: "+e.message):(console.log("Register: "+JSON.stringify(r)),window.location.href="/admin")}):alert("Please enter your password"):alert("Please enter your email"):alert("Please enter your name")}),$("#profile-icon").click(function(l){l.preventDefault(),null!=e&&(console.log("Upload Track"),r="icon",t())})}();
//# sourceMappingURL=app.min.js.map
