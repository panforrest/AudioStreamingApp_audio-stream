!function(){console.log("Hello Audio Stream");var e=null,t=null,r=function(){a.uploadFile(function(r,l){if(r)alert("Error: "+r.message);else if(console.log("Upload Complete: "+JSON.stringify(l)),"icon"!=t){if("track"==t){var n=l.result,o=e.tracks||[];return o.push(n),void a.update("user",e,{tracks:o},function(t,r){if(t)alert("Error: "+t.message);else{console.log("USER UPDATED: "+JSON.stringify(r));var a="";(e=r.result).tracks.forEach(function(e,t){a+='<tr><td style="width:130px"><a target="_blank" href="'+e.url+'" ><img src="/dist/images/icon_play.png" alt="..." /></a></td>',a+='<td><h5><a target="_blank" href="'+e.url+'">'+e.name+"</a></h5><p>Uploaded: "+e.timestamp+"</p></td>",a+='<td><h4 class="price">Share</h4></td></tr>'}),$("#tracks-table").html(a)}})}}else{var s=l.result.url;a.update("user",e,{image:s},function(t,r){t?alert("Error: "+t.message):(console.log("USER UPDATED: "+JSON.stringify(r)),e=r.result,$("#profile-icon").attr("src",e.image))})}})},a=Turbo({site_id:"59bc88062b047800127690e1"});a.currentUser(function(t,r){if(t)console.log("No One Logged In");else{console.log("Current User: "+JSON.stringify(r)),e=r.user,$("#header-username").html(r.user.name);var a="";e.tracks.forEach(function(e,t){a+='<tr><td style="width:130px"><a target="_blank" href="'+e.url+'" ><img src="/dist/images/icon_play.png" alt="..." /></a></td>',a+='<td><h5><a target="_blank" href="'+e.url+'">'+e.name+"</a></h5><p>Uploaded: "+e.timestamp+"</p></td>",a+='<td><h4 class="price">Share</h4></td></tr>'}),console.log("Tracks List: "+a),$("#tracks-table").html(a),$("#profile-icon").attr("src",e.image)}}),$("#btn-upload").click(function(a){a.preventDefault(),null!=e&&(console.log("Upload Track"),t="track",r())}),$("#button-join").on("click",function(e){e.preventDefault();var t={name:$("#input-name").val(),email:$("#input-email").val(),password:$("#input-password").val()};0!=t.name.length?0!=t.email.length?0!=t.password.length?a.createUser(t,function(e,t){e?alert("Error: "+e.message):(console.log("Register: "+JSON.stringify(t)),window.location.href="/admin")}):alert("Please enter your password"):alert("Please enter your email"):alert("Please enter your name")}),$("#profile-icon").click(function(a){a.preventDefault(),null!=e&&(console.log("Upload Track"),t="icon",r())})}();
//# sourceMappingURL=app.min.js.map
