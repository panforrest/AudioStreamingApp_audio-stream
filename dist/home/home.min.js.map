{"version":3,"sources":["home.js"],"names":["stations","configureAudioPlayer","tracks","APlayer","element","document","getElementById","narrow","autoplay","showlrc","mutex","theme","music","selectStation","event","preventDefault","selectedStation","target","id","console","log","JSON","stringify","$","html","name","forEach","track","i","push","title","author","url","pic","click","Turbo","site_id","fetch","err","data","users","results","stationsHtml","user","numTracks","length","image","setTimeout"],"mappings":"CAAA,WAEE,IAAIA,KAGAC,EAAuB,SAASC,GAClC,GAAc,MAAVA,EAGM,IAAIC,SACZC,QAASC,SAASC,eAAe,WACjCC,QAAQ,EACRC,UAAU,EACVC,SAAS,EACTC,OAAO,EACPC,MAAO,UAEPC,MAAOV,KAcPW,EAAgB,SAASC,GAS3B,GARAA,EAAMC,iBACNC,gBAAkBhB,EAASc,EAAMG,OAAOC,IACxCC,QAAQC,IAAI,mBAAqBC,KAAKC,UAAUN,kBAEhDO,EAAE,0BAA0BC,KAAKR,gBAAgBS,MAInB,MAA1BT,gBAAgBd,OAAe,CACjC,IAAIA,KACJc,gBAAgBd,OAAOwB,QAAQ,SAASC,EAAOC,GAK7C1B,EAAO2B,MACLC,MAAOH,EAAMF,KACbM,OAAQ,GACRC,IAAKL,EAAMK,IACXC,IAAK,OAKThC,EAAqBC,GAMvBqB,EAAE,eAAeW,SAKPC,OAAOC,QAAS,6BAEtBC,MAAM,OAAQ,KAAM,SAASC,EAAKC,GACtC,IAAID,EAAJ,CAIAnB,QAAQC,IAAI,UAAYC,KAAKC,UAAUiB,IACvCC,MAAQD,EAAKE,QAEb,IAAIC,EAAe,GACnBF,MAAMd,QAAQ,SAASiB,EAAMf,GAC5B,IAAIgB,EAAaD,EAAW,OAAIA,EAAKzC,OAAO2C,OAAS,EAErDH,GAAgB,uDAChBA,GAAgB,wBAA0BC,EAAKlB,KAAO,WACtDiB,GAAgB,iEAAmEC,EAAKG,MAAQ,oBAChGJ,GAAgB,UAAYE,EAAY,sBACxCF,GAAgB,mCAChBA,GAAgB,gDAChBA,GAAgB,sCAAuCC,EAAKzB,GAAI,qEAC/DlB,EAAS2C,EAAKzB,IAAMyB,EAEpBI,WAAW,WAETxB,EAAE,IAAIoB,EAAKzB,IAAIgB,MAAMrB,IAMpB,OAGLU,EAAE,aAAaC,KAAKkB,MArGxB","file":"home.min.js","sourcesContent":["(function(){\n\n  var stations = {}\n  var slectedStations = null\n\n  var configureAudioPlayer = function(tracks){\n    if (tracks == null)\n      return\n\n    var ap4 = new APlayer({\n      element: document.getElementById('aplayer'),\n      narrow: false,\n      autoplay: false,\n      showlrc: false,\n      mutex: true,\n      theme: '#ad7a86',\n      // mode: 'random',\n      music: tracks\n      // music: [\n      //     {\n      //         title: 'TEST',\n      //         author: 'TEST',\n      //         url: 'https://storage.turbo360.co/audio-stream--6xiqee/themepunch-script-1.mp3',\n\n      //     }\n      // ]\n    }); \n\n  }\n\n\n  var selectStation = function(event){\n    event.preventDefault()\n    selectedStation = stations[event.target.id]\n    console.log('Select Station: ' + JSON.stringify(selectedStation))\n\n    $('#selected-station-name').html(selectedStation.name)\n\n    // var trackList = ''\n    \n    if (selectedStation.tracks != null){\n      var tracks = []\n      selectedStation.tracks.forEach(function(track, i){\n        // trackList += '<li class=\"nav-item\">'\n        // trackList += '<a class=\"nav-link\" href=\"#\">' + track.name + '</a>'\n        // trackList += '</li>'\n\n        tracks.push({\n          title: track.name,\n          author: '',\n          url: track.url,\n          pic: ''\n        })\n\n      })\n\n      configureAudioPlayer(tracks)\n\n    }\n\n    // $('#selected-station-tracks').html(trackList)\n\n    $('#btn-toggle').click()\n  }\n\n  \n\n  var turbo = Turbo({site_id: '59bc88062b047800127690e1'})\n\n  turbo.fetch('user', null, function(err, data){\n    if (err){\n      return\n    }\n\n    console.log('USERS: ' + JSON.stringify(data))\n    users = data.results\n\n    var stationsHtml = ''\n    users.forEach(function(user, i){\n    \tvar numTracks = (user.tracks) ? user.tracks.length : 0\n\n\t    stationsHtml += '<div class=\"col-12 col-md-4\"><div class=\"pricing-1\">'\n\t    stationsHtml += '<p class=\"plan-name\">' + user.name + '</p><br>'\n\t    stationsHtml += '<img style=\"width:120px;height:120px;border-radius:60px\" src=\"' + user.image + '=s120-c\" /><hr />'\n\t    stationsHtml += '<small>' + numTracks + ' tracks</small><br>'\n\t    stationsHtml += '<small>Basic support</small><br>'\n\t    stationsHtml += '<small>Sync to cloud database</small><br><br>'\n\t    stationsHtml += '<p class=\"text-center py-3\"><a id=\"'+ user.id +'\" class=\"btn btn-primary\" href=\"#\">View tracks</a></p></div></div>'\n      stations[user.id] = user\n      \n      setTimeout(function(){\n\n        $('#'+user.id).click(selectStation)\n        //   event.preventDefault()\n        //   console.log('Select Station: ' + event.target.id)\n        // })\n\n\n      }, 500)\n    })\n\n    $('#stations').html(stationsHtml) \n\n  })\n\n  // var ap4 = new APlayer({\n  //   element: document.getElementById('aplayer'),\n  //   narrow: false,\n  //   autoplay: false,\n  //   showlrc: false,\n  //   mutex: true,\n  //   theme: '#ad7a86',\n  //   mode: 'random',\n  //   music: [\n  //       {\n  //           title: 'TEST',\n  //           author: 'TEST',\n  //           url: 'https://storage.turbo360.co/audio-stream--6xiqee/themepunch-script-1.mp3',\n\n  //       }\n  //   ]\n  // });  \n\n})()"]}